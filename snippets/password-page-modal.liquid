{{ 'component-modals.css' | asset_url | stylesheet_tag }}
{% comment %} Modal container {% endcomment %}
<div id="modal-password" class="modal color-{{ settings.color_scheme_modals }}" data-modal data-parent>
  {% comment %} Modal {% endcomment %}
  <div id="dialog" class="modal-dialog" data-contents data-modal-dialog role="dialog" aria-modal="true" aria-labelledby="password-modal-title" tabindex="-1">
    <header class="modal-header">
      <h3 class="h5" id="password-modal-title">{{ 'general.password_page.login_form_heading' | t }}</h3>
      <a href="#" class="modal-close" data-modal-close data-close>
        {% render 'icon-close' %}
        <span class="visually-hidden">{{ 'accessibility.close' | t }}</span>
      </a>
    </header>

    <div class="modal-body" data-modal-body>
      <p>{{ 'general.password_page.admin_link_html' | t }}</p>

      {%- form 'storefront_password', class: 'form' -%}
        <div class="field">
          <input class="field__input"
            type="password"
            name="password"
            id="password"
            autocomplete="current-password"
            {% if form.errors %}
              aria-invalid="true"
              aria-describedby="PasswordLoginForm-password-error"
            {%- endif -%}
            placeholder="{{ 'general.password_page.login_form_password_placeholder' | t }}" />
          <label class="field__label" for="password">
            {{ 'general.password_page.login_form_password_label' | t }}
          </label>

        </div>

        {%- if form.errors -%}
          <div id="PasswordLoginForm-password-error" role="status">
            <span class="visually-hidden">{{ 'accessibility.error' | t }}</span>
            <span class="password-form__message">{% render 'icon-error' %} {{ 'general.password_page.login_form_error' | t }}</span>
          </div>
        {%- endif -%}

        <button name="commit" class="btn btn--full btn--primary mt-8">
          {{ 'general.password_page.login_password_button' | t }}
        </button>
      {%- endform -%}
    </div>
  </div>

  {% comment %} Background, click to close {% endcomment %}
  <a href="#" class="page-overlay" data-modal-overlay data-overlay aria-hidden="true"></a>
</div>

<style>
  .password-form__message {
    display: flex;
    gap: 1rem;
    align-items: center;
    color: var(--error);
    margin: var(--gutter) 0;
  }
</style>